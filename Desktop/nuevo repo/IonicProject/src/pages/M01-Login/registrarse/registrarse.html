<!--
  Generated template for the RegistrarsePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  
    <ion-navbar color="primary">
      <ion-title>Registrarse</ion-title>
    </ion-navbar>
  
  </ion-header>
  
  
  <ion-content padding>
    <form [formGroup]="myForm" (ngSubmit)="saveData()"> 
      <ion-list >
          <h4 style="color:#000000;font-weight:600;text-align:center;">Ingresa todos los datos: </h4>
             
    
          <ion-item>
            <ion-icon name="mail" item-start> </ion-icon>
            <ion-label floating>Usuaio</ion-label>
            <ion-input formControlName="email" type="text" [(ngModel)]='username' ></ion-input>
        </ion-item>
        <ion-item *ngIf="myForm.get('email').errors && myForm.get('email').dirty">
            <p color="danger" ion-text *ngIf="myForm.get('email').hasError('required')">Campo requerido</p>
            <p color="danger" ion-text *ngIf="myForm.get('email').hasError('email')">INo es un formato email</p>
        </ion-item>


   
          <ion-item>
              <ion-icon name="mail" item-start> </ion-icon>
              <ion-label floating>Correo electronico</ion-label>
              <ion-input formControlName="email" type="email" [(ngModel)]='useremail' #email></ion-input>
          </ion-item>
          <ion-item *ngIf="myForm.get('email').errors && myForm.get('email').dirty">
              <p color="danger" ion-text *ngIf="myForm.get('email').hasError('required')">Campo requerido</p>
              <p color="danger" ion-text *ngIf="myForm.get('email').hasError('email')">INo es un formato email</p>
          </ion-item>
  
          
          <ion-item>
            <ion-icon name="eye" item-start></ion-icon>
            <ion-label floating>Contraseña</ion-label>
            <ion-input formControlName="Contraseña" type="password" [(ngModel)]='claveusu' #Contraseña></ion-input>
          </ion-item>
          <ion-item *ngIf="myForm.get('Contraseña').errors && myForm.get('Contraseña').dirty">
            <p color="danger" ion-text *ngIf="myForm.get('Contraseña').hasError('required')">Campo requerido</p>
            <p color="danger" ion-text *ngIf="myForm.get('Contraseña').hasError('pattern')">Minimo 6 caracteres</p>
          </ion-item>
          <ion-item>
            <ion-icon name="eye" item-start></ion-icon>
            <ion-label floating>Confirmar contraseña</ion-label>
            <ion-input formControlName="RepetirContraseña" type="password"  #RepetirContraseña></ion-input>
          </ion-item>
          <ion-item *ngIf="myForm.get('RepetirContraseña').errors && myForm.get('RepetirContraseña').dirty">
            <p color="danger" ion-text *ngIf="myForm.get('RepetirContraseña').hasError('required')">Campo requerido</p>
            <p color="danger" ion-text *ngIf="myForm.get('RepetirContraseña').hasError('pattern')">Minimo 6 caracteres</p>
          </ion-item>
    
          
      </ion-list>
  
          <div padding>
              <button ion-button block type="submit" [disabled]="!myForm.valid" clear (click)="registerUser()">Continuar</button>
          </div>
          <h6 style="color:#000000;font-weight:600;text-align:center;">Tambien puedes ingresar a traves de : </h6>
          
        <div padding>
                <!-- Float the icon left -->
          <button ion-button block type="submit" clear (click)="loginWithGoogle()" *ngIf ="!provider.loggedin">
            <ion-icon ios="logo-googleplus" md="logo-googleplus"></ion-icon>
            Google+
          </button>
        </div>

        <div padding>
          <!-- Float the icon right -->
          <button ion-button block type="submit" clear  (click)="loginWithTwitter()" *ngIf ="!provider.loggedin">
            <ion-icon ios="logo-twitter" md="logo-twitter"></ion-icon>
            TWITTER
          </button>
        </div>

        <div padding>
          <button ion-button block type="submit" clear  (click)="loginWithFacebook()" *ngIf ="!provider.loggedin">
            <ion-icon ios="logo-facebook" md="logo-facebook"></ion-icon>
             Facebook
          </button>
        </div>

    <ion-card  *ngIf ="provider.loggedin">   
        <img src="{{ provider.profilePicture }}"/>
        <ion-card-content>
          <ion-card-title>
           {{ provider.name }}
            </ion-card-title>
          <p style="text-align: center">
       {{provider.email }}
          </p>
        </ion-card-content>
      </ion-card>

    <button ion-button inline (click)="logout()" *ngIf ="provider.loggedin"><ion-icon ios="logo-facebook" md="logo-facebook"></ion-icon> salir </button>
    
  </form>
  
</ion-content>
    
    
    
    <!--
  <ion-card *ngIf="userData" >
    <ion-card-header>{{ userData.username }}</ion-card-header>
    <img [src]="userData.picture">
    <ion-card-content>
      <p> Email: {{ userData.email }} </p>
      <p> First Name: {{ userData.first_name }} </p>
    </ion-card-content>
  </ion-card> -->


  <!-- Only icon (no text) -->
  <!--<button ion-button icon-left   inline (click)="loginwithFB()" >
    <ion-icon ios="logo-facebook" md="logo-facebook"></ion-icon>
    Facebook
  </button>
  <ion-card *ngIf="userData" >
      <ion-card-header>{{userData.username }}</ion-card-header>
//
  </ion-card>-->